<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>NIFTY Data Viewer</title>
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
		/>
	</head>
	<body class="container mt-5">
		<h2 class="text-center">NIFTY OHLC & Bollinger Bands</h2>

		<form method="post" class="mb-4 mt-4 w-50 mx-auto h-25">
			<div class="input-group">
				<input type="date" name="date" class="form-control" required />
				<button type="submit" class="btn btn-primary">Show Data</button>
			</div>
		</form>

		{% if data %}
		<h3>OHLC Data</h3>
		<table class="table table-hover">
			<thead class="table-dark">
				<tr>
					<th>Datetime</th>
					<th>Open</th>
					<th>High</th>
					<th>Low</th>
					<th>Close</th>
				</tr>
			</thead>
			<tbody>
				{% for row in data %}
				<tr>
					<td>{{ row[0] }}</td>
					<td>{{ row[1] }}</td>
					<td>{{ row[2] }}</td>
					<td>{{ row[3] }}</td>
					<td>{{ row[4] }}</td>
				</tr>
				{% endfor %}
			</tbody>
		</table>
		{% endif %} {% if indicators %}
		<h3>Bollinger Bands</h3>
		<table class="table table-hover">
			<thead class="table-primary">
				<tr>
					<th>Datetime</th>
					<th>Upper Band</th>
					<th>Lower Band</th>
					<th>SMA</th>
				</tr>
			</thead>
			<tbody>
				{% for row in indicators %}
				<tr>
					<td>{{ row[0] }}</td>
					<td>{{ row[1] }}</td>
					<td>{{ row[2] }}</td>
					<td>{{ row[3] }}</td>
				</tr>
				{% endfor %}
			</tbody>
		</table>
		{% endif %}
	</body>
</html>
